
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Core Structures &#8212; OpenDP</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=f91d6a3704ddd3a9dc0f" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=f91d6a3704ddd3a9dc0f" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=f91d6a3704ddd3a9dc0f" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=f91d6a3704ddd3a9dc0f" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4f92a2c4" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=f91d6a3704ddd3a9dc0f" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=f91d6a3704ddd3a9dc0f" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=f91d6a3704ddd3a9dc0f"></script>

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/core-structures';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supporting Elements" href="supporting-elements.html" />
    <link rel="prev" title="Programming Framework" href="programming-framework.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Oct 11, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/opendp-logo.png" class="logo__image only-light" alt="OpenDP - Home"/>
    <script>document.write(`<img src="../_static/opendp-logo.png" class="logo__image only-dark" alt="OpenDP - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../more.html">
                        More…
                      </a>
                    </li>
                
            <li class="nav-item dropdown pst-header-nav-item">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item  ">
                      <a class="nav-link dropdown-item nav-internal" href="../contact.html">
                        Contact
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/opendp" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item pst-header-nav-item ">
                      <a class="nav-link nav-internal" href="../more.html">
                        More…
                      </a>
                    </li>
                
            <li class="nav-item dropdown pst-header-nav-item">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item  ">
                      <a class="nav-link dropdown-item nav-internal" href="../contact.html">
                        Contact
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/opendp" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="programming-framework.html">Programming Framework</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Core Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="supporting-elements.html">Supporting Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="combinator-constructors.html">Combinator Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformation-constructors.html">Transformation Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement-constructors.html">Measurement Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-structure.html">Application Structure</a></li>
</ul>
</div>
</nav></div>
        <div class="sidebar-primary-item">
<h6>Branches</h6>
<ul>
    <li><a href="../../beta/index.html" style="font-weight: normal">beta</a></li>
    <li><a href="../../nightly/index.html" style="font-weight: normal">nightly</a></li>
    <li><a href="../../stable/index.html" style="font-weight: normal">stable</a></li>
</ul>


<h6 id="releases_header">Releases
    <div id="releases_symbol" style="float:right"></div>
</h6>
<ul id="releases_content">
    <li><a href="../../v0.14.1/index.html" style="font-weight: normal">v0.14.1</a></li>
    <li><a href="../../v0.14.0/index.html" style="font-weight: normal">v0.14.0</a></li>
    <li><a href="../../v0.13.0/index.html" style="font-weight: normal">v0.13.0</a></li>
    <li><a href="../../v0.12.1/index.html" style="font-weight: normal">v0.12.1</a></li>
    <li><a href="../../v0.12.0/index.html" style="font-weight: normal">v0.12.0</a></li>
    <li><a href="../../v0.11.1/index.html" style="font-weight: normal">v0.11.1</a></li>
    <li><a href="../../v0.11.0/index.html" style="font-weight: normal">v0.11.0</a></li>
    <li><a href="../../v0.10.0/index.html" style="font-weight: normal">v0.10.0</a></li>
    <li><a href="../../v0.9.2/index.html" style="font-weight: normal">v0.9.2</a></li>
    <li><a href="../../v0.9.1/index.html" style="font-weight: normal">v0.9.1</a></li>
    <li><a href="../../v0.9.0/index.html" style="font-weight: normal">v0.9.0</a></li>
    <li><a href="../../v0.8.0/index.html" style="font-weight: normal">v0.8.0</a></li>
    <li><a href="../../v0.7.0/index.html" style="font-weight: normal">v0.7.0</a></li>
    <li><a href="../../v0.6.2/index.html" style="font-weight: normal">v0.6.2</a></li>
    <li><a href="../../v0.6.1/index.html" style="font-weight: normal">v0.6.1</a></li>
    <li><a href="../../v0.6.0/index.html" style="font-weight: normal">v0.6.0</a></li>
    <li><a href="../../v0.5.0/user/core-structures.html" style="font-weight: normal">v0.5.0</a></li>
    <li><a href="../../v0.4.0/user/core-structures.html" style="font-weight: normal">v0.4.0</a></li>
    <li><a href="core-structures.html" style="font-weight: bold">v0.3.0</a></li>
    <li><a href="../../v0.2.4/user/core-structures.html" style="font-weight: normal">v0.2.4</a></li>
    <li><a href="../../v0.2.3/user/core-structures.html" style="font-weight: normal">v0.2.3</a></li>
    <li><a href="../../v0.2.2/user/core-structures.html" style="font-weight: normal">v0.2.2</a></li>
    <li><a href="../../v0.2.1/user/core-structures.html" style="font-weight: normal">v0.2.1</a></li>
    <li><a href="../../v0.2.0/user/core-structures.html" style="font-weight: normal">v0.2.0</a></li>
    <li><a href="../../v0.1.0/index.html" style="font-weight: normal">v0.1.0</a></li>
</ul>
<script>
    let expanded = !!JSON.parse(localStorage.getItem('expanded'));

    let releasesHeader = document.getElementById("releases_header");
    let releasesSymbol = document.getElementById("releases_symbol");
    let releasesContent = document.getElementById("releases_content");

    function setReleasesState() {
        localStorage.setItem("expanded", JSON.stringify(expanded))
        releasesContent.style.display = expanded ? "block" : "none";
        releasesSymbol.classList.add(expanded ? 'minus' : 'plus')
        releasesSymbol.classList.remove(expanded ? 'plus' : 'minus')
    }

    setReleasesState()
    releasesHeader.addEventListener("click", function() {
        expanded = !expanded;
        setReleasesState()
    })
</script>
<style>
    .plus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .plus:before,
    .plus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .plus:before {
        left:50%;
        top:4px;
        bottom:4px;
        width:3px;
        transform:translateX(-50%);
    }

    .plus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }



    .minus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .minus:before,
    .minus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .minus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }
</style>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Core Structures</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item"><div class="admonition warning" style="position: relative;">
    <!--
     Without the style, the region for the article title overlaps, and the link is unclickable.
    -->
    <details>
        <summary>Questions or feedback?</summary>
        <!--
            All of these lists should be in sync:
            - README.md
            - docs/source/contributing/contact.rst
            - docs/source/_templates/questions-feedback.html
            - .github/ISSUE_TEMPLATE/config.yml
        -->
        <ul>
            <li>Report a bug or request a feature on <a href="https://github.com/opendp/opendp/issues">Github</a>.</li>
            <li>Send general queries to <a href="mailto:info@opendp.org">info@opendp.org</a>, or email <a href="mailto:security@opendp.org">security@opendp.org</a> if it is related to security.</li>
            <li>Join the conversation on <a href="https://join.slack.com/t/opendp/shared_invite/zt-zw7o1k2s-dHg8NQE8WTfAGFnN_cwomA">Slack</a>, or the <a href="https://groups.google.com/a/g.harvard.edu/g/opendp-community">mailing list</a>.</li>
        </ul>
    </details>
</div></div>
      
        <div class="header-article-item">
<div class="admonition warning" style="position: relative;" id="old-version-warning">
  <!--
   To work with this locally, in conf.py uncomment the entry under "html_context".

   Without the style, the region for the article title overlaps, and the link is unclickable.
  -->
  <p class="admonition-title">
  
  This documentation is for an old version of OpenDP.
  
  </p>
  <p>The current release of OpenDP is <a href="/">v0.14.1</a>.</p>
</div>
<script>
  window.addEventListener("load", (event) => {
    document.getElementById('old-version-warning').style.top = `${window.visualViewport.pageTop}px`;
  });
</script>
</div>
      
    </div>
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="core-structures">
<span id="id1"></span><h1>Core Structures<a class="headerlink" href="#core-structures" title="Link to this heading">#</a></h1>
<p>OpenDP is focused on creating computations with specific privacy characteristics.
These computations are modeled with two core structures in OpenDP:
<a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Transformation" title="opendp.mod.Transformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">opendp.mod.Transformation</span></code></a> and <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Measurement" title="opendp.mod.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">opendp.mod.Measurement</span></code></a>.
These structures are in all OpenDP programs, regardless of the underlying algorithm or definition of privacy.
By modeling computations in this abstract way, we’re able to combine them in flexible arrangements and reason about the resulting programs.</p>
<p>A unifying perspective towards OpenDP is that OpenDP is a system for <cite>relating</cite>:</p>
<ol class="arabic simple">
<li><p>an upper bound on distance between neighboring function inputs (to)</p></li>
<li><p>an upper bound on distance between respective function outputs (or distributions)</p></li>
</ol>
<p>OpenDP naturally captures the definition of privacy via <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relations</span></a>,
because the definition of privacy is an upper bound on distance between probability distributions.</p>
<p>Each measurement or transformation is a self-contained structure with a relation, function, and supporting proof.</p>
<section id="measurement">
<span id="id2"></span><h2>Measurement<a class="headerlink" href="#measurement" title="Link to this heading">#</a></h2>
<p>A <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Measurement" title="opendp.mod.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> is a randomized mapping from datasets to outputs of an arbitrary type.
Lets say we have an arbitrary instance of a Measurement, called <code class="docutils literal notranslate"><span class="pre">meas</span></code>, and a code snippet <code class="docutils literal notranslate"><span class="pre">meas.check(d_in,</span> <span class="pre">d_out)</span></code>.
If the code snippet evaluates to True, then <code class="docutils literal notranslate"><span class="pre">meas</span></code> is <code class="docutils literal notranslate"><span class="pre">d_out</span></code>-DP on <code class="docutils literal notranslate"><span class="pre">d_in</span></code>-close inputs,
or equivalently “(<code class="docutils literal notranslate"><span class="pre">d_in</span></code>, <code class="docutils literal notranslate"><span class="pre">d_out</span></code>)-close”.
The code snippet simply checks the privacy relation that comes bundled inside <code class="docutils literal notranslate"><span class="pre">meas</span></code>.</p>
<p>The distances <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> are expressed in the units of the input metric and output measure.
Depending on the context, <code class="docutils literal notranslate"><span class="pre">d_in</span></code> could be a distance bound to neighboring datasets or a global sensitivity,
and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> may be <code class="docutils literal notranslate"><span class="pre">epsilon</span></code>, <code class="docutils literal notranslate"><span class="pre">(epsilon,</span> <span class="pre">delta)</span></code>, or some other measure of privacy.
More information on distances is available <a class="reference internal" href="supporting-elements.html#distances"><span class="std std-ref">here</span></a>.</p>
<p>Each invocation of the measurement’s function (via <code class="docutils literal notranslate"><span class="pre">meas.invoke(data)</span></code> or <code class="docutils literal notranslate"><span class="pre">meas(data)</span></code>) is a differentially private release.
The privacy expenditure of each release is any <code class="docutils literal notranslate"><span class="pre">d_out</span></code> that makes the relation pass.</p>
<p>A measurement structure contains the following internal fields:</p>
<dl class="field-list simple">
<dt class="field-odd">input_domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible input values for the function.</p>
</dd>
<dt class="field-even">output_domain<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible output values of the function.</p>
</dd>
<dt class="field-odd">function<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#functions"><span class="std std-ref">function</span></a> that computes a differentially-private release on private data.</p>
</dd>
<dt class="field-even">input_metric<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to compute distance between two members of the input domain.</p>
</dd>
<dt class="field-odd">output_measure<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#measures"><span class="std std-ref">measure</span></a> used to measure distance between two distributions in the output domain.</p>
</dd>
<dt class="field-even">privacy_relation<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relation</span></a> that encapsulates the privacy characteristics of the function.</p>
</dd>
</dl>
<p>The framework quantifies output distance bounds on measurements with a measure, instead of a metric,
because measurements emit samples from a probability distribution,
and measures can be used to quantify differences between probability distributions.
This is the primary differentiating factor between measurements and transformations.</p>
</section>
<section id="transformation">
<span id="id3"></span><h2>Transformation<a class="headerlink" href="#transformation" title="Link to this heading">#</a></h2>
<p>A <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Transformation" title="opendp.mod.Transformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformation</span></code></a> is a (deterministic) mapping from datasets to datasets.
Transformations are used to preprocess and aggregate data before chaining with a measurement.</p>
<p>Similarly to <code class="docutils literal notranslate"><span class="pre">meas</span></code> above, let’s say we have an arbitrary instance of a Transformation, called <code class="docutils literal notranslate"><span class="pre">trans</span></code>,
and a code snippet <code class="docutils literal notranslate"><span class="pre">trans.check(d_in,</span> <span class="pre">d_out)</span></code>.
If the code snippet evaluates to True, then <code class="docutils literal notranslate"><span class="pre">trans</span></code> is <code class="docutils literal notranslate"><span class="pre">d_out</span></code>-close on <code class="docutils literal notranslate"><span class="pre">d_in</span></code>-close inputs,
or equivalently “(<code class="docutils literal notranslate"><span class="pre">d_in</span></code>, <code class="docutils literal notranslate"><span class="pre">d_out</span></code>)-close”.
The code snippet simply checks the stability relation that comes bundled inside <code class="docutils literal notranslate"><span class="pre">trans</span></code>.
In this context, the relation captures the stability of a transformation.</p>
<p>The distances <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> are expressed in the units of the input metric and output metric.
Depending on the context, <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> could be a distance bound to neighboring datasets or a global sensitivity.
More information on distances is available <a class="reference internal" href="supporting-elements.html#distances"><span class="std std-ref">here</span></a>.</p>
<p>Invoking the function (via <code class="docutils literal notranslate"><span class="pre">trans.invoke(data)</span></code> or <code class="docutils literal notranslate"><span class="pre">trans(data)</span></code>) transforms the data, but the output is not differentially private.
Transformations need to be <a class="reference internal" href="combinator-constructors.html#chaining"><span class="std std-ref">chained</span></a> with a measurement before they can be used to create a differentially-private release.</p>
<p>A transformation structure contains the following internal fields:</p>
<dl class="field-list simple">
<dt class="field-odd">input_domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible input values for the function.</p>
</dd>
<dt class="field-even">output_domain<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible output values of the function.</p>
</dd>
<dt class="field-odd">function<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#functions"><span class="std std-ref">function</span></a> that transforms data.</p>
</dd>
<dt class="field-even">input_metric<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to compute distance between two members of the input domain.</p>
</dd>
<dt class="field-odd">output_metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to measure distance between two members of the output domain.</p>
</dd>
<dt class="field-even">stability_relation<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relation</span></a> that encapsulates the stability characteristics of the function.</p>
</dd>
</dl>
</section>
<section id="constructors-and-functions">
<span id="constructors"></span><h2>Constructors and Functions<a class="headerlink" href="#constructors-and-functions" title="Link to this heading">#</a></h2>
<p>In OpenDP, Measurements and Transformations are created by calling constructor functions.
The majority of the library’s interface consists of these constructors.</p>
<p>Because Measurements and Transformations are themselves like functions (they can be invoked on an input and return an output),
you can think of constructors as higher-order functions:
You call them to produce another function that you will then feed data.</p>
<p>There’s a few top-level constructor listings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="combinator-constructors.html#combinator-constructors"><span class="std std-ref">Combinator Constructors</span></a></p></li>
<li><p><a class="reference internal" href="measurement-constructors.html#measurement-constructors"><span class="std std-ref">Measurement Constructors</span></a></p></li>
<li><p><a class="reference internal" href="transformation-constructors.html#transformation-constructors"><span class="std std-ref">Transformation Constructors</span></a></p></li>
</ul>
<p>In this simplified example with the <a class="reference internal" href="../api/python/opendp.meas.html#opendp.meas.make_base_geometric" title="opendp.meas.make_base_geometric"><code class="xref py py-func docutils literal notranslate"><span class="pre">opendp.meas.make_base_geometric()</span></code></a> constructor, we assume the data was properly preprocessed and aggregated such that the sensitivity (by absolute distance) is at most 1.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre data-tabindex="0"><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">opendp.meas</span> <span class="kn">import</span> <span class="n">make_base_geometric</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># call the constructor to produce a measurement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_geometric</span> <span class="o">=</span> <span class="n">make_base_geometric</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># investigate the privacy relation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">absolute_distance</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">base_geometric</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">d_in</span><span class="o">=</span><span class="n">absolute_distance</span><span class="p">,</span> <span class="n">d_out</span><span class="o">=</span><span class="n">epsilon</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># feed some data/invoke the measurement as a function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aggregated</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">release</span> <span class="o">=</span> <span class="n">base_geometric</span><span class="p">(</span><span class="n">aggregated</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="programming-framework.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Programming Framework</p>
      </div>
    </a>
    <a class="right-next"
       href="supporting-elements.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Supporting Elements</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement">Measurement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transformation">Transformation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constructors-and-functions">Constructors and Functions</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/user/core-structures.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=f91d6a3704ddd3a9dc0f"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=f91d6a3704ddd3a9dc0f"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3rc1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>